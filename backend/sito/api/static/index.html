<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="Filippo Benozzi, Michele Sordo, Christian Joppi, Emilio Dorigatti, Matilde Leso, Luisa Zurlo, Karin Severgnani">
    
    <title>StudyRoom</title>
    
    <!-- Style -->
        <!-- Bootstrap -->
            <link href="css/bootstrap.min.css" rel="stylesheet">
        <!-- CSS Filippo -->
            <link href="css/material-wfont.min.css" rel="stylesheet">
            <link href="css/general.css" rel="stylesheet">
            <link href="css/style.css" rel="stylesheet">
    
    <!-- Script -->
        <!-- jQuery -->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <!-- Material -->
            <script src="js/material.js"></script>
        <!-- BootStrap -->
            <script src="js/bootstrap.min.js"></script>
        <!-- MiniTemplate -->
            <script src="js/minitemplate.js"></script>
            <script src="js/importdb.js"></script>
            <script src="js/hidemenu.js"></script>

            <script type="text/javascript">
            function nomeImmagine(aula) {
                if(aula.stat == null) return "img/default.jpg";
                else {
                    var posti_perc = aula.stat.posti_liberi / aula.dimensione;
                    var ghetto = aula.stat.ghetto > 0.5 ? "ghetto" : "noghetto";
                    var lesson = aula.stat.lesson ? "lesson" : "nolesson";
                    var posti = posti_perc < 0.25 ? "empty" : posti_perc < 0.75 ? "medium" : "full";
                    return "img/" + ghetto + "_" + lesson + "_" + posti + ".jpg";
                }
            }
            </script>
            <script type="text/html" id="template_aula">
                <% for(var i = 0; i < data.length; i++) { %>
                <div class="list-group-separator"></div>
                <div class="containerItem">
                    <div class="list-group-item">
                        <div class="row-picture">
                            <img class="circle" src=" <%= nomeImmagine(data[i]) %>">
                        </div>
                        <div class="row-content displayItem">
                            <p class="titleItem"><%= data[i].nome %></p>
                            <p class="subtitleItem">Busy:  <%= data[i].stat ? data[i].stat.posti_liberi : "-" %> / <%= data[i].dimensione %>  |   Last update: <%= data[i].ultimo_aggiornamento || "mai" %></p>
                        </div>
                    </div>
                    <!-- STAT INTERNE -->
                        <div id="inserimentoDati">
                        <div id="statRight">
                            <p class="statText"><b>Busy seats:</b> <%= data[i].stat ? data[i].stat.posti_liberi : "-" %></p>
                            <p class="statText"><b>Tot. seats:</b> <%= data[i].dimensione %></p>
                            <p class="statText"><b>Last update:</b> <%= data[i].ultimo_aggiornamento || "mai" %></p>
                        </div>
                        <div id="statLeft">
                            <p class="statTitle">How many seats busy?</p>
                            <p class="statSubTitle">Scrivere limonare duro.</p>
                            <input type="text" id="report-<%= data[i].id %>" value=""></input><br>
                            <button type="button" class="btn btn-primary" onclick="submit_posti(<%= data[i].id %>);">Submit</button>
                        </div>
                    </div>
                </div>
                <% } %>   
            </script>
            <script src="js/hidemenu.js"></script>
    </head>
<body>
    <div class="navbar navbar-default">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="javascript:void(0)">StudyRoom</a>
        </div>
        <!-- NavBar
        <div class="navbar-collapse collapse navbar-responsive-collapse">
            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="javascript:void(0)">Action</a></li>
                        <li><a href="javascript:void(0)">Another action</a></li>
                        <li><a href="javascript:void(0)">Something else here</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Dropdown header</li>
                        <li><a href="javascript:void(0)">Separated link</a></li>
                        <li><a href="javascript:void(0)">One more separated link</a></li>
                    </ul>
                </li>
            </ul>
        </div> -->
    </div>
    
    <div id="container">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">Piano: -1</h3>
            </div>
            <div class="list-group">
                <!-- CONTENUTO -->
                </div>
        </div>
    </div>
</body>
</html>
